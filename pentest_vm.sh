#!/bin/bash

# This script downloads several tools / files to set up a pentesting machine like I prefer them
# Keep in mind that this is barely an alpha version and it might be unstable / not working flawlessly.

sudo echo "Starting configuration of nopVM (Linux)"

mkdir ~/Software 
mkdir ~/Shells
mkdir ~/Lists 
mkdir ~/Lists/LFI 
mkdir ~/Lists/gobuster 
mkdir ~/Lists/Wordlists 

# apt-get
arr=("gem" "nmap" "hashcat" "john" "terminator" "wireshark" "gobuster" "dirbuster" "git" 
	"strace" "ltrace" "radare2" "radare2-cutter" "smbmap" "exploitdb" "mingw-w64" "vim")

sudo apt update -y && sudo apt upgrade -y && sudo apt autoremove -y


for i in "${arr[@]}"; do
	sudo apt install $i -y 
done

sudo gem install evil-winrm
echo Installed evil-winrm

#Pip for python 2.x
curl https://bootstrap.pypa.io/pip/2.7/get-pip.py --output get-pip.py
sudo python2 get-pip.py
rm get-pip.py

# Github and 3rd party software stuff
cd ~
cd Software


git clone https://github.com/SecureAuthCorp/impacket.git
pip3 install impacket/ 2>>~/error.log

git clone https://github.com/helviojunior/MS17-010.git

# Lists

cd ~/Lists

cd LFI
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-gracefulsecurity-windows.txt -O LFI-Windows.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-gracefulsecurity-linux.txt -O LFI-Linux.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-LFISuite-pathtotest.txt -O LFI-Linux-Paths.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-LFISuite-pathtotest-huge.txt -O LFI-Linux-Paths-Huge.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-Jhaddix.txt -O LFI-Jhaddix.txt

cd ~/Lists

cd gobuster
wget https://raw.githubusercontent.com/nop-tech/Pentesting/main/wordlists/gobuster/Gobuster-Dir-Small.txt -O Gobuster-Dir-Small.txt
wget https://raw.githubusercontent.com/nop-tech/Pentesting/main/wordlists/gobuster/Gobuster-Dir-Medium.txt -O Gobuster-Dir-Medium.txt
wget https://raw.githubusercontent.com/nop-tech/Pentesting/main/wordlists/gobuster/Gobuster-Dir-Big.txt -O Gobuster-Dir-Big.txt
wget https://raw.githubusercontent.com/nop-tech/Pentesting/main/wordlists/gobuster/Gobuster-Apache-User-Enum.txt -O Gobuster-Apache-User-Enum.txt
wget https://raw.githubusercontent.com/nop-tech/Pentesting/main/wordlists/gobuster/directory_big_kali_version.txt -O kali_big.txt

# Shells
cd ~/Shells
wget https://raw.githubusercontent.com/pentestmonkey/php-reverse-shell/master/php-reverse-shell.php -O php-shell-pentestmonkey.php

# Stuff that needs user interaction

cd ~/Downloads
wget "https://portswigger.net/burp/releases/download?product=community&version=2021.5.1&type=Linux" -O burpsuite
chmod +x burpsuite
./burpsuite 2>>~/error.log

