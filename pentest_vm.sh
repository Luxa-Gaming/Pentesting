#!/bin/bash

# This script downloads several tools / files to set up a pentesting machine like I prefer them

sudo echo "Starting configuration of nopVM (Linux)"

mkdir ~/Software 2>>~/error.log
mkdir ~/Lists 2>>~/error.log
mkdir ~/Lists/LFI 2>>~/error.log
mkdir ~/Lists/gobuster 2>>~/error.log
mkdir ~/Lists/Wordlists 2>>~/error.log

# apt-get
arr=("gem" "nmap" "hashcat" "john" "terminator" "wireshark" "gobuster" "git" "strace" "ltrace" "radare2" "radare2-cutter" "smbmap" "exploitdb")

sudo apt update -y && sudo apt upgrade -y && sudo apt autoremove -y


for i in "${arr[@]}"; do
	sudo apt install $i -y 
done

sudo gem install evil-winrm
echo Installed evil-winrm

#Pip for python 2.x
curl https://bootstrap.pypa.io/pip/2.7/get-pip.py --output get-pip.py
sudo python2 get-pip.py
rm get-pip.py

# Github stuff
cd ~
cd Software

git clone https://github.com/SecureAuthCorp/impacket.git
pip3 install impacket/ 2>>~/error.log

git clone https://github.com/helviojunior/MS17-010.git

# Lists

cd ~/Lists

cd LFI
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-gracefulsecurity-windows.txt -O LFI-Windows.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-gracefulsecurity-linux.txt -O LFI-Linux.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-LFISuite-pathtotest.txt -O LFI-Linux-Paths.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-LFISuite-pathtotest-huge.txt -O LFI-Linux-Paths-Huge.txt
wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Fuzzing/LFI/LFI-Jhaddix.txt -O LFI-Jhaddix.txt

cd ~/Lists

cd gobuster
wget https://raw.githubusercontent.com/daviddias/node-dirbuster/master/lists/directory-list-2.3-small.txt -O Gobuster-Dir-Small.txt
wget https://raw.githubusercontent.com/daviddias/node-dirbuster/master/lists/directory-list-2.3-medium.txt -O Gobuster-Dir-Medium.txt
wget https://raw.githubusercontent.com/daviddias/node-dirbuster/master/lists/directory-list-2.3-big.txt -O Gobuster-Dir-Big.txt
wget https://raw.githubusercontent.com/daviddias/node-dirbuster/master/lists/apache-user-enum-2.0.txt -O Gobuster-Apache-User-Enum.txt
